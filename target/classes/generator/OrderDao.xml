<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ce.springboot.dao.OrderDao">

    <resultMap id="OrderMap" type="com.ce.springboot.pojo.Order">
        <result property="orderid" column="oid"/>
        <result property="send" column="send"/>
        <result property="sphone" column="sphone"/>
        <result property="semail" column="semail"/>
        <result property="sprovince" column="sprovince"/>
        <result property="scity" column="scity"/>
        <result property="receive" column="receive"/>
        <result property="rphone" column="rphone"/>
        <result property="remail" column="remail"/>
        <result property="rprovince" column="rprovince"/>
        <result property="rcity" column="rcity"/>
        <result property="time" column="time"/>
        <result property="check" column="check"/>
        <association property="client" javaType="com.ce.springboot.pojo.Client">
            <result property="namezh" column="NameZh"/>
        </association>
        <collection property="num" ofType="Integer">
            <result column="num"/>
        </collection>
        <collection property="goods" ofType="com.ce.springboot.pojo.Good">
            <result property="name" column="gname"/>
        </collection>
    </resultMap>

    <select id="selectOrder" resultMap="OrderMap" >
        select o.orderId oid,send, sphone,semail,
        sprovince,scity,receive,rphone,remail
        rprovince,rcity,`time`, `check`,c.NameZh,og.num,g.name gname
        from client c,`order` o,good g,`order_good` og
        where c.companyCode = o.client
        and o.orderId = og.orderID
        and og.goodID = g.goodID
    </select>
</mapper>